(()=>{var e={};e.id=130,e.ids=[130],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7942:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\اداره\\\\آقای مریدی\\\\prices\\\\electronics-pricing\\\\src\\\\app\\\\devices\\\\orders\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\اداره\\آقای مریدی\\prices\\electronics-pricing\\src\\app\\devices\\orders\\page.tsx","default")},8276:(e,t,s)=>{Promise.resolve().then(s.bind(s,43184))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12512:(e,t,s)=>{"use strict";s.d(t,{L:()=>i});var a=s(43210),r=s(33103);let i=()=>{let e=(0,a.useCallback)((e,t)=>{try{let s=r.Wp.book_new(),a=[["گزارش سفارش الکترونیک","","",""],["","","",""],["شماره سفارش",e.summary.orderNumber,"",""],["تاریخ سفارش",e.summary.orderDate,"",""],["نام مشتری",e.summary.customerName||"نامشخص","",""],["","","",""],["خلاصه سفارش","","",""],["انواع دستگاه",e.summary.totalUniqueDevices,"مجموع دستگاه‌ها",e.summary.totalDevices],["انواع برد",e.summary.totalUniqueBoards,"مجموع بردها",e.summary.totalBoards],["انواع قطعه",e.summary.totalUniqueParts,"مجموع قطعات",e.summary.totalParts],["","","",""],["مبلغ کل (ریال)",e.summary.grandTotal.toLocaleString("fa-IR"),"",""]],i=r.Wp.aoa_to_sheet(a);if(i["!cols"]=[{width:20},{width:20},{width:20},{width:20}],r.Wp.book_append_sheet(s,i,"خلاصه سفارش"),e.devices&&e.devices.length>0){let t=e.devices.map(e=>[e.deviceCode,e.deviceName,e.quantity,e.unitPrice.toLocaleString("fa-IR"),e.totalPrice.toLocaleString("fa-IR"),e.boardsCount,e.partsCount]),a=e.devices.reduce((e,t)=>e+t.totalPrice,0);t.push(["","مجموع کل","","",a.toLocaleString("fa-IR"),"",""]);let i=[["کد دستگاه","نام دستگاه","تعداد","قیمت واحد (ریال)","قیمت کل (ریال)","تعداد بردها","تعداد قطعات"],...t],n=r.Wp.aoa_to_sheet(i);n["!cols"]=[{width:15},{width:25},{width:10},{width:18},{width:18},{width:12},{width:12}],r.Wp.book_append_sheet(s,n,"لیست دستگاه‌ها")}if(e.boards&&e.boards.length>0){let t=e.boards.map(e=>[e.boardCode,e.boardName,e.quantity,e.unitPrice.toLocaleString("fa-IR"),e.totalPrice.toLocaleString("fa-IR"),e.partsCount,e.usedInDevice||""]),a=e.boards.reduce((e,t)=>e+t.totalPrice,0);t.push(["","مجموع کل","","",a.toLocaleString("fa-IR"),"",""]);let i=[["کد برد","نام برد","تعداد","قیمت واحد (ریال)","قیمت کل (ریال)","تعداد قطعات","استفاده در"],...t],n=r.Wp.aoa_to_sheet(i);n["!cols"]=[{width:15},{width:25},{width:10},{width:18},{width:18},{width:12},{width:20}],r.Wp.book_append_sheet(s,n,"لیست بردها")}let n=e.parts.map(e=>[e.partCode,e.partName,e.quantity,e.unitPrice.toLocaleString("fa-IR"),e.totalPrice.toLocaleString("fa-IR"),e.category||"",e.supplier||"",e.usedIn||""]),l=e.parts.reduce((e,t)=>e+t.totalPrice,0),d=e.parts.reduce((e,t)=>e+t.quantity,0);n.push(["","مجموع کل",d,"",l.toLocaleString("fa-IR"),"","",""]);let o=[["کد قطعه","نام قطعه","تعداد","قیمت واحد (ریال)","قیمت کل (ریال)","دسته‌بندی","تامین‌کننده","استفاده در"],...n],c=r.Wp.aoa_to_sheet(o);c["!cols"]=[{width:15},{width:30},{width:10},{width:18},{width:18},{width:15},{width:15},{width:25}],r.Wp.book_append_sheet(s,c,"لیست قطعات");let m=t||`سفارش_${e.summary.orderNumber}_${new Date().toLocaleDateString("fa-IR").replace(/\//g,"-")}.xlsx`;return r._h(s,m),!0}catch(e){return console.error("خطا در تولید فایل اکسل:",e),!1}},[]),t=(0,a.useCallback)((t,s)=>{let a={orderDate:new Date().toLocaleDateString("fa-IR"),orderNumber:s||`P-${Date.now()}`,totalDevices:0,totalBoards:0,totalParts:t.reduce((e,t)=>e+t.quantity,0),totalUniqueDevices:0,totalUniqueBoards:0,totalUniqueParts:t.length,grandTotal:t.reduce((e,t)=>e+t.totalPrice,0)};return e({summary:a,parts:t.map(e=>({partCode:e.partNumber,partName:e.name,quantity:e.quantity,unitPrice:e.unitPrice,totalPrice:e.totalPrice,category:e.category,usedIn:"سفارش مستقل قطعات"}))},`سفارش_قطعات_${a.orderNumber}.xlsx`)},[e]),s=(0,a.useCallback)((t,s,a)=>{let r={orderDate:new Date().toLocaleDateString("fa-IR"),orderNumber:a||`B-${Date.now()}`,totalDevices:0,totalBoards:t.reduce((e,t)=>e+t.quantity,0),totalParts:s.reduce((e,t)=>e+t.totalQuantity,0),totalUniqueDevices:0,totalUniqueBoards:t.length,totalUniqueParts:s.length,grandTotal:t.reduce((e,t)=>e+t.totalCost,0)},i=t.map(e=>({boardCode:`BRD-${e.boardId}`,boardName:e.name,quantity:e.quantity,unitPrice:e.unitCost,totalPrice:e.totalCost,partsCount:e.parts.length,usedInDevice:"سفارش مستقل برد"}));return e({summary:r,boards:i,parts:s.map(e=>({partCode:e.partNumber,partName:e.name,quantity:e.totalQuantity,unitPrice:e.unitPrice,totalPrice:e.totalCost,usedIn:e.usedInBoards.join(", ")}))},`سفارش_بردها_${r.orderNumber}.xlsx`)},[e]),i=(0,a.useCallback)((t,s,a,r)=>{let i={orderDate:new Date().toLocaleDateString("fa-IR"),orderNumber:r||`D-${Date.now()}`,totalDevices:t.reduce((e,t)=>e+t.quantity,0),totalBoards:s.reduce((e,t)=>e+t.totalQuantity,0),totalParts:a.reduce((e,t)=>e+t.totalQuantity,0),totalUniqueDevices:t.length,totalUniqueBoards:s.length,totalUniqueParts:a.length,grandTotal:t.reduce((e,t)=>e+t.totalCost,0)},n=t.map(e=>({deviceCode:`DEV-${e.deviceId}`,deviceName:e.name,quantity:e.quantity,unitPrice:e.unitCost,totalPrice:e.totalCost,boardsCount:e.boards.length,partsCount:e.boards.reduce((e,t)=>e+t.parts.length,0)})),l=s.map(e=>({boardCode:`BRD-${e.boardId}`,boardName:e.name,quantity:e.totalQuantity,unitPrice:e.unitCost,totalPrice:e.totalCost,partsCount:0,usedInDevice:e.usedInDevices.join(", ")}));return e({summary:i,devices:n,boards:l,parts:a.map(e=>({partCode:e.partNumber,partName:e.name,quantity:e.totalQuantity,unitPrice:e.unitPrice,totalPrice:e.totalCost,usedIn:e.usedInBoards.join(", ")}))},`سفارش_دستگاه‌ها_${i.orderNumber}.xlsx`)},[e]);return{exportToExcel:e,exportPartsOrder:t,exportBoardsOrder:s,exportDevicesOrder:i}}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32244:(e,t,s)=>{Promise.resolve().then(s.bind(s,7942))},33873:e=>{"use strict";e.exports=require("path")},43184:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var a=s(60687),r=s(43210),i=s(16189),n=s(1530),l=s(2643),d=s(28749),o=s(68521),c=s(12512);function m(){let e=(0,i.useRouter)(),{exportDevicesOrder:t}=(0,c.L)(),[s,m]=(0,r.useState)([]),[u,x]=(0,r.useState)(""),h=(e,t)=>{let a=s.find(t=>t.deviceId===e.id);if(a)p(e.id,a.quantity+t);else{let s={deviceId:e.id,name:e.name,quantity:t,unitCost:e.totalCost,totalCost:e.totalCost*t,boards:e.boards};m(e=>[...e,s])}},p=(e,t)=>{if(t<=0)return void f(e);m(s=>s.map(s=>s.deviceId===e?{...s,quantity:t,totalCost:s.unitCost*t}:s))},f=e=>{m(t=>t.filter(t=>t.deviceId!==e))},j=()=>s.reduce((e,t)=>e+t.quantity,0),g=()=>{let e=new Map;return s.forEach(t=>{t.boards.forEach(s=>{let a=s.quantity*t.quantity,r=e.get(s.boardId);r?(r.totalQuantity+=a,r.totalCost=r.totalQuantity*r.unitCost,r.usedInDevices.push(`${t.name} (${t.quantity}\xd7)`)):e.set(s.boardId,{boardId:s.boardId,name:s.name,totalQuantity:a,unitCost:s.unitCost,totalCost:a*s.unitCost,usedInDevices:[`${t.name} (${t.quantity}\xd7)`]})})}),Array.from(e.values())},b=()=>{let e=new Map;return s.forEach(t=>{t.boards.forEach(s=>{s.parts.forEach(a=>{let r=a.quantity*s.quantity*t.quantity,i=e.get(a.partId);i?(i.totalQuantity+=r,i.totalCost=i.totalQuantity*i.unitPrice,i.usedInBoards.includes(s.name)||i.usedInBoards.push(s.name)):e.set(a.partId,{partId:a.partId,name:a.name,partNumber:a.partNumber,unitPrice:a.unitPrice,totalQuantity:r,totalCost:r*a.unitPrice,usedInBoards:[s.name]})})})}),Array.from(e.values())},y=[{id:"1",name:"کنترلر هوشمند موتور",description:"سیستم کنترل موتور با سنسور دما",testingCost:3e4,assemblyOverhead:5e4,totalCost:219500,boards:[{boardId:"1",name:"برد کنترل موتور",quantity:1,unitCost:87e3,parts:[{partId:"1",name:"مقاومت ۱۰کΩ",partNumber:"R-10K-01",unitPrice:500,quantity:3},{partId:"2",name:"خازن ۱۰۰μF",partNumber:"C-100UF-16V",unitPrice:2e3,quantity:2},{partId:"3",name:"IC LM358",partNumber:"IC-LM358-DIP8",unitPrice:8e3,quantity:1}]},{boardId:"2",name:"برد سنسور دما",quantity:1,unitCost:52500,parts:[{partId:"1",name:"مقاومت ۱۰کΩ",partNumber:"R-10K-01",unitPrice:500,quantity:2},{partId:"4",name:"ترانزیستور BC547",partNumber:"TR-BC547",unitPrice:1500,quantity:1},{partId:"5",name:"دیود 1N4007",partNumber:"D-1N4007",unitPrice:800,quantity:2}]}]},{id:"2",name:"منبع تغذیه تنظیمی",description:"منبع تغذیه ۵ ولت با کنترل جریان",testingCost:2e4,assemblyOverhead:3e4,totalCost:194e3,boards:[{boardId:"3",name:"برد تغذیه",quantity:2,unitCost:72e3,parts:[{partId:"2",name:"خازن ۱۰۰μF",partNumber:"C-100UF-16V",unitPrice:2e3,quantity:4},{partId:"5",name:"دیود 1N4007",partNumber:"D-1N4007",unitPrice:800,quantity:4},{partId:"1",name:"مقاومت ۱۰کΩ",partNumber:"R-10K-01",unitPrice:500,quantity:1}]}]},{id:"3",name:"سیستم مانیتورینگ کامل",description:"سیستم کنترل و نظارت چندمنظوره",testingCost:5e4,assemblyOverhead:8e4,totalCost:342e3,boards:[{boardId:"1",name:"برد کنترل موتور",quantity:1,unitCost:87e3,parts:[{partId:"1",name:"مقاومت ۱۰کΩ",partNumber:"R-10K-01",unitPrice:500,quantity:3},{partId:"2",name:"خازن ۱۰۰μF",partNumber:"C-100UF-16V",unitPrice:2e3,quantity:2},{partId:"3",name:"IC LM358",partNumber:"IC-LM358-DIP8",unitPrice:8e3,quantity:1}]},{boardId:"2",name:"برد سنسور دما",quantity:2,unitCost:52500,parts:[{partId:"1",name:"مقاومت ۱۰کΩ",partNumber:"R-10K-01",unitPrice:500,quantity:2},{partId:"4",name:"ترانزیستور BC547",partNumber:"TR-BC547",unitPrice:1500,quantity:1},{partId:"5",name:"دیود 1N4007",partNumber:"D-1N4007",unitPrice:800,quantity:2}]},{boardId:"3",name:"برد تغذیه",quantity:1,unitCost:72e3,parts:[{partId:"2",name:"خازن ۱۰۰μF",partNumber:"C-100UF-16V",unitPrice:2e3,quantity:4},{partId:"5",name:"دیود 1N4007",partNumber:"D-1N4007",unitPrice:800,quantity:4},{partId:"1",name:"مقاومت ۱۰کΩ",partNumber:"R-10K-01",unitPrice:500,quantity:1}]}]}].filter(e=>!u||e.name.toLowerCase().includes(u.toLowerCase())||e.description.toLowerCase().includes(u.toLowerCase())),v=g(),N=b();return(0,a.jsx)(o.e,{children:(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200 p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(l.$n,{variant:"outline",onClick:()=>e.back(),className:"flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),(0,a.jsx)(n.Ef,{children:"بازگشت"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:(0,a.jsx)(n.Ef,{children:"سفارش دستگاه"})}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:(0,a.jsx)(n.Ef,{children:"انتخاب دستگاه و محاسبه کامل BOM"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(l.$n,{variant:"secondary",onClick:()=>{if(0===s.length)return void alert("سبد خرید خالی است! ابتدا دستگاه‌هایی اضافه کنید.");t(s,g(),b())?alert("فایل اکسل با موفقیت ایجاد شد!"):alert("خطا در ایجاد فایل اکسل!")},disabled:0===s.length,className:"flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,a.jsx)(n.Ef,{children:"خروجی اکسل"})]}),(0,a.jsx)(l.$n,{variant:"outline",onClick:()=>m([]),children:(0,a.jsx)(n.Ef,{children:"پاک کردن سبد"})}),(0,a.jsx)(l.$n,{variant:"primary",onClick:()=>{if(0===s.length)return void alert("لطفاً حداقل یک دستگاه به سفارش اضافه کنید");console.log("Submitting device order:",{orderItems:s,boardBOM:g(),partBOM:b()}),alert(`سفارش ${s.length} نوع دستگاه (${j()} عدد) با موفقیت ثبت شد!`),m([])},children:(0,a.jsx)(n.Ef,{children:"ثبت سفارش"})})]})]})}),(0,a.jsxs)("div",{className:"flex h-[calc(100vh-120px)]",children:[(0,a.jsxs)("div",{className:"w-80 bg-white border-l border-gray-200 flex flex-col",children:[(0,a.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,a.jsx)("h2",{className:"font-semibold text-gray-900 mb-3",children:(0,a.jsx)(n.Ef,{children:"دستگاه‌های موجود"})}),(0,a.jsx)("div",{className:"mb-3",children:(0,a.jsx)("input",{type:"text",placeholder:"جستجو در دستگاه‌ها...",value:u,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:y.map(e=>(0,a.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 hover:shadow-sm transition-shadow",children:[(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 text-sm",children:(0,a.jsx)(n.Ef,{children:e.name})}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:e.description})]}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:(0,a.jsxs)(n.Ef,{children:[e.boards.length," نوع برد"]})}),(0,a.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,a.jsx)("span",{className:"text-xs font-semibold text-green-600",children:(0,a.jsxs)(n.Ef,{children:[e.totalCost.toLocaleString("fa-IR")," ریال"]})})}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)(l.$n,{variant:"outline",size:"sm",onClick:()=>h(e,1),children:(0,a.jsx)(n.Ef,{children:"+۱"})}),(0,a.jsx)(l.$n,{variant:"outline",size:"sm",onClick:()=>h(e,5),children:(0,a.jsx)(n.Ef,{children:"+۵"})}),(0,a.jsx)(l.$n,{variant:"outline",size:"sm",onClick:()=>h(e,10),children:(0,a.jsx)(n.Ef,{children:"+۱۰"})})]})]},e.id))})]}),(0,a.jsx)("div",{className:"flex-1 flex flex-col bg-gray-50 overflow-y-auto",children:(0,a.jsxs)("div",{className:"p-4 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:(0,a.jsxs)(n.Ef,{children:["سبد خرید (",s.length," نوع دستگاه)"]})}),0===s.length?(0,a.jsxs)(d.Zp,{className:"p-6 text-center",children:[(0,a.jsx)("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),(0,a.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-1",children:(0,a.jsx)(n.Ef,{children:"سبد خرید خالی است"})}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:(0,a.jsx)(n.Ef,{children:"از سایدبار سمت چپ دستگاه‌های مورد نیاز را انتخاب کنید"})})]}):(0,a.jsx)("div",{className:"space-y-2",children:s.map(e=>(0,a.jsx)(d.Zp,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:(0,a.jsx)(n.Ef,{children:e.name})}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:(0,a.jsxs)(n.Ef,{children:["قیمت واحد: ",e.unitCost.toLocaleString("fa-IR")," ریال"]})}),(0,a.jsx)("p",{className:"text-xs text-blue-600",children:(0,a.jsxs)(n.Ef,{children:[e.boards.length," نوع برد"]})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(l.$n,{variant:"outline",size:"sm",onClick:()=>p(e.deviceId,e.quantity-1),children:(0,a.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),(0,a.jsx)("span",{className:"w-12 text-center font-medium",children:(0,a.jsx)(n.Ef,{children:e.quantity.toLocaleString("fa-IR")})}),(0,a.jsx)(l.$n,{variant:"outline",size:"sm",onClick:()=>p(e.deviceId,e.quantity+1),children:(0,a.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),(0,a.jsx)("div",{className:"text-left w-28",children:(0,a.jsx)("p",{className:"font-semibold text-green-600",children:(0,a.jsxs)(n.Ef,{children:[e.totalCost.toLocaleString("fa-IR")," ریال"]})})}),(0,a.jsx)(l.$n,{variant:"danger",size:"sm",onClick:()=>f(e.deviceId),children:(0,a.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},e.deviceId))})]}),v.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:(0,a.jsx)(n.Ef,{children:"فهرست بردهای مورد نیاز"})}),(0,a.jsx)("div",{className:"bg-blue-50 rounded-lg p-3 mb-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-blue-700 font-medium",children:(0,a.jsx)(n.Ef,{children:"تعداد انواع برد:"})}),(0,a.jsx)("p",{className:"font-bold text-blue-800",children:(0,a.jsxs)(n.Ef,{children:[v.length.toLocaleString("fa-IR")," نوع"]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-blue-700 font-medium",children:(0,a.jsx)(n.Ef,{children:"مجموع بردها:"})}),(0,a.jsx)("p",{className:"font-bold text-blue-800",children:(0,a.jsxs)(n.Ef,{children:[v.reduce((e,t)=>e+t.totalQuantity,0).toLocaleString("fa-IR")," عدد"]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-blue-700 font-medium",children:(0,a.jsx)(n.Ef,{children:"هزینه بردها:"})}),(0,a.jsx)("p",{className:"font-bold text-blue-800",children:(0,a.jsxs)(n.Ef,{children:[v.reduce((e,t)=>e+t.totalCost,0).toLocaleString("fa-IR")," ریال"]})})]})]})}),(0,a.jsx)("div",{className:"space-y-2 mb-6",children:v.map(e=>(0,a.jsx)(d.Zp,{className:"p-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 text-sm",children:(0,a.jsx)(n.Ef,{children:e.name})}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:(0,a.jsxs)(n.Ef,{children:["استفاده در: ",e.usedInDevices.join(", ")]})})]}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-blue-600",children:(0,a.jsxs)(n.Ef,{children:[e.totalQuantity.toLocaleString("fa-IR")," عدد"]})}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:(0,a.jsxs)(n.Ef,{children:[e.unitCost.toLocaleString("fa-IR")," ریال/عدد"]})}),(0,a.jsx)("p",{className:"text-sm font-semibold text-green-600",children:(0,a.jsxs)(n.Ef,{children:[e.totalCost.toLocaleString("fa-IR")," ریال"]})})]})]})},e.boardId))})]}),N.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:(0,a.jsx)(n.Ef,{children:"فهرست قطعات مورد نیاز (BOM کامل)"})}),(0,a.jsx)("div",{className:"bg-yellow-50 rounded-lg p-3 mb-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-yellow-700 font-medium",children:(0,a.jsx)(n.Ef,{children:"تعداد انواع قطعات:"})}),(0,a.jsx)("p",{className:"font-bold text-yellow-800",children:(0,a.jsxs)(n.Ef,{children:[N.length.toLocaleString("fa-IR")," نوع"]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-yellow-700 font-medium",children:(0,a.jsx)(n.Ef,{children:"مجموع قطعات:"})}),(0,a.jsx)("p",{className:"font-bold text-yellow-800",children:(0,a.jsxs)(n.Ef,{children:[N.reduce((e,t)=>e+t.totalQuantity,0).toLocaleString("fa-IR")," عدد"]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-yellow-700 font-medium",children:(0,a.jsx)(n.Ef,{children:"هزینه قطعات:"})}),(0,a.jsx)("p",{className:"font-bold text-yellow-800",children:(0,a.jsxs)(n.Ef,{children:[N.reduce((e,t)=>e+t.totalCost,0).toLocaleString("fa-IR")," ریال"]})})]})]})}),(0,a.jsx)("div",{className:"space-y-2",children:N.map(e=>(0,a.jsx)(d.Zp,{className:"p-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 text-sm",children:(0,a.jsx)(n.Ef,{children:e.name})}),(0,a.jsx)("p",{className:"text-xs text-gray-500 font-mono",children:e.partNumber}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:(0,a.jsxs)(n.Ef,{children:["استفاده در: ",e.usedInBoards.join(", ")]})})]}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-blue-600",children:(0,a.jsxs)(n.Ef,{children:[e.totalQuantity.toLocaleString("fa-IR")," عدد"]})}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:(0,a.jsxs)(n.Ef,{children:[e.unitPrice.toLocaleString("fa-IR")," ریال/عدد"]})}),(0,a.jsx)("p",{className:"text-sm font-semibold text-green-600",children:(0,a.jsxs)(n.Ef,{children:[e.totalCost.toLocaleString("fa-IR")," ریال"]})})]})]})},e.partId))})]})]})}),(0,a.jsx)("div",{className:"w-80 bg-white border-r border-gray-200 flex flex-col",children:(0,a.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:(0,a.jsx)(n.Ef,{children:"خلاصه سفارش"})}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:(0,a.jsx)(n.Ef,{children:"تعداد انواع دستگاه:"})}),(0,a.jsx)("span",{className:"font-medium",children:(0,a.jsxs)(n.Ef,{children:[s.length.toLocaleString("fa-IR")," نوع"]})})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:(0,a.jsx)(n.Ef,{children:"مجموع دستگاه‌ها:"})}),(0,a.jsx)("span",{className:"font-medium",children:(0,a.jsxs)(n.Ef,{children:[j().toLocaleString("fa-IR")," عدد"]})})]}),v.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("hr",{}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:(0,a.jsx)(n.Ef,{children:"انواع برد:"})}),(0,a.jsx)("span",{className:"font-medium",children:(0,a.jsxs)(n.Ef,{children:[v.length.toLocaleString("fa-IR")," نوع"]})})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:(0,a.jsx)(n.Ef,{children:"مجموع بردها:"})}),(0,a.jsx)("span",{className:"font-medium",children:(0,a.jsxs)(n.Ef,{children:[v.reduce((e,t)=>e+t.totalQuantity,0).toLocaleString("fa-IR")," عدد"]})})]})]}),N.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("hr",{}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:(0,a.jsx)(n.Ef,{children:"انواع قطعه:"})}),(0,a.jsx)("span",{className:"font-medium",children:(0,a.jsxs)(n.Ef,{children:[N.length.toLocaleString("fa-IR")," نوع"]})})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:(0,a.jsx)(n.Ef,{children:"مجموع قطعات:"})}),(0,a.jsx)("span",{className:"font-medium",children:(0,a.jsxs)(n.Ef,{children:[N.reduce((e,t)=>e+t.totalQuantity,0).toLocaleString("fa-IR")," عدد"]})})]})]}),(0,a.jsx)("hr",{}),(0,a.jsx)("div",{className:"bg-green-50 rounded-lg p-3",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"font-semibold text-gray-900",children:(0,a.jsx)(n.Ef,{children:"مجموع کل:"})}),(0,a.jsx)("span",{className:"font-bold text-lg text-green-600",children:(0,a.jsxs)(n.Ef,{children:[s.reduce((e,t)=>e+t.totalCost,0).toLocaleString("fa-IR")," ریال"]})})]})}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 space-y-1",children:[(0,a.jsx)("p",{children:(0,a.jsx)(n.Ef,{children:"• شامل همه هزینه‌های تولید"})}),(0,a.jsx)("p",{children:(0,a.jsx)(n.Ef,{children:"• BOM کامل محاسبه شده"})}),(0,a.jsx)("p",{children:(0,a.jsx)(n.Ef,{children:"• آماده تولید انبوه"})})]})]})]})})]})]})})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74394:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>o});var a=s(65239),r=s(48088),i=s(88170),n=s.n(i),l=s(30893),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(t,d);let o={children:["",{children:["devices",{children:["orders",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,7942)),"D:\\اداره\\آقای مریدی\\prices\\electronics-pricing\\src\\app\\devices\\orders\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"D:\\اداره\\آقای مریدی\\prices\\electronics-pricing\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,54413)),"D:\\اداره\\آقای مریدی\\prices\\electronics-pricing\\src\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["D:\\اداره\\آقای مریدی\\prices\\electronics-pricing\\src\\app\\devices\\orders\\page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/devices/orders/page",pathname:"/devices/orders",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},79551:e=>{"use strict";e.exports=require("url")}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[447,102,243,762,521],()=>s(74394));module.exports=a})();